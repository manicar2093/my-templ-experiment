package userpages

import "templ-demo/internal/domain/models"
import "templ-demo/cmd/web/ui/components/form"
import "templ-demo/cmd/web/ui/components/label"
import "templ-demo/cmd/web/ui/components/input"
import "templ-demo/cmd/web/ui/components/button"
import "templ-demo/cmd/web/ui/components/formtag"

type UserFormProperties struct {
    Action string
    Method string
    Class string
}

templ UserForm(user *models.User, props UserFormProperties) {
    @formtag.FormTag(formtag.FormTagProperties{
        Action: props.Action,
        Method: props.Method,
        Class: props.Class,
    }) {
        <div class="mb-2">
            @form.Item(form.ItemProps{}) {
                @label.Label(label.Props{
                    For: "email",
                }) {
                    Email
                }
                @input.Input(input.Props{
                    ID: "email",
                    Name: "email",
                    Type: input.TypeEmail,
                    Value: user.Email,
                    HasError: false,
                    Required: true,
                })
                @form.Description() {
                    Enter your email address for notifications.
                }
                // @form.Message(form.MessageProps{
                //     Variant: form.MessageVariantError,
                // }) {
                //     Please enter a valid email address
                // }
            }

            @form.Item(form.ItemProps{}) {
                @label.Label(label.Props{
                    For: "password",
                }) {
                    Password
                }
                @input.Input(input.Props{
                    ID: "password",
                    Name: "password",
                    Type: input.TypePassword,
                    Value: user.Password,
                    HasError: false,
                    Required: true,
                })
                 @form.Description() {
                    Enter your password.
                }
            }

            // @form.Item(form.ItemProps{}) {
            //     @label.Label(label.Props{
            //         For: "created_at",
            //     })
            //     @input.Input(input.Props{
            //         ID: "created_at",
            //         Name: "created_at",
            //         Type: input.TypeDateTime,
            //         Value: user.CreatedAt.Format(time.DateTime),
            //         HasError: false,
            //     })
            //     // @form.Message(form.MessageProps{
            //     //     Variant: form.MessageVariantError,
            //     // }) {
            //     //     Please enter a valid email address
            //     // }
            // }
	    </div>

        @button.Button(button.Props{
            Variant: button.VariantDefault,
            Type: button.TypeSubmit,
        }) {
            Guardar
        }

        @button.Button(button.Props{
            Type: button.TypeSubmit,
            Variant: button.VariantGhost,
            Href: "/users",
        }) {
            Cancelar
        }
    }

}
